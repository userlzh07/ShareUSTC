# Database Configuration
DATABASE_URL=postgres://shareustc_app:change_me@localhost:5432/shareustc

# JWT Configuration
JWT_SECRET=your-super-secret-jwt-key-change-this-in-production
JWT_EXPIRATION=900
JWT_REFRESH_EXPIRATION=604800

# Server Configuration
# 0.0.0.0 允许从任何地址访问（生产环境使用）
# 127.0.0.1 仅允许本地访问（开发环境使用）
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# 图片访问的基础URL（图床功能必需）
# 用于生成图片的公开访问链接和Markdown引用
# 开发环境使用默认值即可，生产环境必须设置为服务器实际域名
# 格式: http://域名:端口 或 https://域名
# 例如: IMAGE_BASE_URL=https://shareustc.example.com
IMAGE_BASE_URL=http://localhost:8080

# CORS 配置 - 允许访问的域名列表，多个域名用逗号分隔
# 例如: CORS_ALLOWED_ORIGINS=https://yourdomain.com,https://www.yourdomain.com
# 使用 * 允许所有域名（不推荐用于生产环境，仅测试时使用）
CORS_ALLOWED_ORIGINS=http://localhost:5173,http://127.0.0.1:5173,https://yourdomain.com

# File Upload Configuration
FILE_UPLOAD_PATH=./uploads
MAX_FILE_SIZE=104857600
IMAGE_UPLOAD_PATH=./uploads/images
RESOURCE_UPLOAD_PATH=./uploads/resources

# Storage backend
# local: 本地文件系统（默认）
# oss: 阿里云 OSS（已支持读写、签名下载、STS 直传回调）
STORAGE_BACKEND=local

# OSS Configuration（仅 STORAGE_BACKEND=oss 时需要）
OSS_ACCESS_KEY_ID=
OSS_ACCESS_KEY_SECRET=
OSS_ENDPOINT=oss-cn-hangzhou.aliyuncs.com
OSS_BUCKET=
OSS_REGION=cn-hangzhou
OSS_STS_ROLE_ARN=
OSS_STS_SESSION_DURATION=900
OSS_KEY_PREFIX=
OSS_SIGNED_URL_EXPIRY=600

# Allowed file types (comma separated)
ALLOWED_FILE_TYPES=pdf,doc,docx,ppt,pptx,txt,md,jpg,jpeg,png,zip

# Log Level
# 格式: 模块名=级别 (trace, debug, info, warn, error)
# 生产环境建议使用 info 或 warn
RUST_LOG=backend=info,actix_web=info,sqlx=warn
LOG_LEVEL=info

# Admin Configuration
# 管理员用户名列表，多个管理员用逗号分隔
# 配置在此列表中的用户在注册时将自动获得管理员权限
# 后端启动时会自动同步：列表中的用户会被赋予管理员权限，不在列表中的管理员会被取消权限
ADMIN_USERNAMES=admin

# Cookie Secure 配置
# 控制 Cookie 的 Secure 标志，设为 true 时 Cookie 仅通过 HTTPS 传输
# 生产环境必须设为 true，开发环境设为 false
COOKIE_SECURE=false
